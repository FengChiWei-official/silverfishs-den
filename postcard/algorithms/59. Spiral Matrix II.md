---
tags:
  - type/lit
  - topic/learning
  - status/archive
source: 《卡片盒笔记法》 by Sönke Ahrens
---
[59. Spiral Matrix II](https://leetcode.com/problems/spiral-matrix-ii/)
## Text
Given a positive integer `n`, generate an `n x n` `matrix` filled with elements from `1` to `n2` in spiral order.

**Example 1:**

![](https://assets.leetcode.com/uploads/2020/11/13/spiraln.jpg)

**Input:** n = 3
**Output:** [[1,2,3],[8,9,4],[7,6,5]]

**Example 2:**

**Input:** n = 1
**Output:** [[1]]
## Thoughts

### start and end
**4 boundaries** is **better**!!!
Final Code:
``` cpp
class Solution {

public:

vector<vector<int>> generateMatrix(int n) {

vector<vector<int>> matrix(n, vector<int>(n, 0));

int looper = n / 2 ; // + n % 2; //close-end so 1 based

int digit = 1;

// can handle n = 1 properly;

if (n % 2 == 1) matrix[looper][looper] = n*n;

if (n == 1) return matrix;

for (int l = 0; l < looper; ++l) {

int len = n - l - 1;

int i = l;// init state and state in one variable.

int j = l;

  

int edge = j + len; // ensure final state is const.

for (; j < edge; j++) {

matrix[i][j] = digit;

digit++;

}

edge = i + len;

for (; i < edge; i++) {

matrix[i][j] = digit;

digit++;

}

edge = j - len;

for (; j > edge; j--) {

matrix[i][j] = digit;

digit++;

}

edge = i - len;

for (; i > edge; i--) {

matrix[i][j] = digit;

digit++;

}

  

}

return matrix;

}

};
```

initial:
```
for (; j < j + len; j++) {

matrix[i][j] = digit;

digit++;

}
```
That broke [[Loop Invariant Principle]]. the end of the loop is running with the `state` `j`.
here is your guideline [[Looper Design Normal Form]]

## 4 boundaries
[[4 Boundaries Traversal Matrix]]

---

## related

[[Looper Boundary Conditions]]